{
  "name": "block-text",
  "type": "registry:component",
  "description": "A text animation component that reveals text with sliding block overlays.",
  "dependencies": [
    "gsap",
    "@gsap/react"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/components/split-text/block-text/index.tsx",
      "type": "registry:component",
      "language": "typescript",
      "target": "components/anime-ui/split-text/block-text.tsx",
      "content": "'use client';\n\nimport React, { useRef } from 'react';\n\nimport gsap from 'gsap';\nimport { SplitText, ScrollTrigger } from 'gsap/all';\nimport { useGSAP } from '@gsap/react';\n\ngsap.registerPlugin(SplitText, ScrollTrigger);\n\n// Inject styles\nif (typeof document !== 'undefined') {\n  const styleId = 'block-text-styles';\n  if (!document.getElementById(styleId)) {\n    const style = document.createElement('style');\n    style.id = styleId;\n    style.textContent = `\n      .block-line-wrapper {\n        position: relative;\n        width: max-content;\n        display: block;\n      }\n\n      .block-line {\n        position: relative;\n        display: block;\n      }\n\n      .block-revealer {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        pointer-events: none;\n        will-change: transform;\n        z-index: 1;\n      }\n    `;\n    document.head.appendChild(style);\n  }\n}\n\nconst Copy = ({\n  children,\n  animationOnScroll = true,\n  delay = 0,\n  blockColor = '#000',\n  stagger = 0.15,\n  duration = 0.75,\n}: {\n  children: React.ReactNode;\n  animationOnScroll?: boolean;\n  delay?: number;\n  blockColor?: string;\n  stagger?: number;\n  duration?: number;\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const splitRefs = useRef<SplitText[]>([]);\n  const lines = useRef<HTMLDivElement[]>([]);\n  const blocks = useRef<HTMLDivElement[]>([]);\n\n  useGSAP(\n    () => {\n      if (!containerRef.current) return null;\n\n      splitRefs.current = [];\n      lines.current = [];\n      blocks.current = [];\n\n      let elements = [];\n\n      if (containerRef.current.hasAttribute('data-copy-wrapper')) {\n        elements = Array.from(containerRef.current.children);\n      } else {\n        elements = [containerRef.current];\n      }\n\n      elements.forEach((element) => {\n        const split = new SplitText(element, {\n          type: 'lines',\n          linesClass: 'block-line++',\n          lineThreshold: 0.1,\n        });\n\n        splitRefs.current.push(split);\n\n        split.lines.forEach((line) => {\n          const wrapper = document.createElement('div');\n          wrapper.className = 'block-line-wrapper';\n          if (line.parentNode) {\n            line.parentNode.insertBefore(wrapper, line);\n          }\n          wrapper.appendChild(line);\n\n          const block = document.createElement('div');\n          block.className = 'block-revealer';\n          block.style.backgroundColor = blockColor;\n          wrapper.appendChild(block);\n\n          lines.current.push(line as HTMLDivElement);\n          blocks.current.push(block);\n        });\n      });\n\n      gsap.set(lines.current, { opacity: 0 });\n      gsap.set(blocks.current, {\n        scaleX: 0,\n        transformOrigin: 'left center',\n      });\n\n      const createBlockRevealAnimation = (\n        block: any,\n        line: any,\n        index: number,\n      ) => {\n        const tl = gsap.timeline({ delay: delay + index * stagger });\n\n        tl.to(block, {\n          scaleX: 1,\n          duration: duration,\n          ease: 'power4.inOut',\n        });\n        tl.set(line, { opacity: 1 });\n        tl.set(block, { transformOrigin: 'right center' });\n        tl.to(block, {\n          scaleX: 0,\n          duration: duration,\n          ease: 'power4.inOut',\n        });\n\n        return tl;\n      };\n\n      if (animationOnScroll) {\n        blocks.current.forEach((block, index) => {\n          const tl = createBlockRevealAnimation(\n            block,\n            lines.current[index],\n            index,\n          );\n          tl.pause();\n\n          ScrollTrigger.create({\n            trigger: containerRef.current,\n            start: 'top 90%',\n            once: true,\n            onEnter: () => tl.play(),\n          });\n        });\n      } else {\n        blocks.current.forEach((block, index) => {\n          createBlockRevealAnimation(block, lines.current[index], index);\n        });\n      }\n\n      return () => {\n        splitRefs.current.forEach((split) => split?.revert());\n\n        const wrappers = containerRef.current?.querySelectorAll(\n          '.block-line-wrapper',\n        );\n        wrappers?.forEach((wrapper) => {\n          if (wrapper.parentNode && wrapper.firstChild) {\n            wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n            wrapper.remove();\n          }\n        });\n      };\n    },\n    {\n      scope: containerRef,\n      dependencies: [animationOnScroll, delay, blockColor, stagger, duration],\n    },\n  );\n\n  return (\n    <div ref={containerRef} data-copy-wrapper=\"true\">\n      {children}\n    </div>\n  );\n};\n\nexport default Copy;\n"
    },
    {
      "path": "registry/components/split-text/block-text/index.jsx",
      "type": "registry:component",
      "language": "javascript",
      "target": "components/anime-ui/split-text/block-text.jsx",
      "content": "'use client';\r\n\r\nimport React, { useRef } from 'react';\r\n\r\nimport gsap from 'gsap';\r\nimport { SplitText, ScrollTrigger } from 'gsap/all';\r\nimport { useGSAP } from '@gsap/react';\r\n\r\ngsap.registerPlugin(SplitText, ScrollTrigger);\r\n\r\n// Inject styles\r\nif (typeof document !== 'undefined') {\r\n  const styleId = 'block-text-styles';\r\n  if (!document.getElementById(styleId)) {\r\n    const style = document.createElement('style');\r\n    style.id = styleId;\r\n    style.textContent = `\r\n      .block-line-wrapper {\r\n        position: relative;\r\n        width: max-content;\r\n        display: block;\r\n      }\r\n\r\n      .block-line {\r\n        position: relative;\r\n        display: block;\r\n      }\r\n\r\n      .block-revealer {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        pointer-events: none;\r\n        will-change: transform;\r\n        z-index: 1;\r\n      }\r\n    `;\r\n    document.head.appendChild(style);\r\n  }\r\n}\r\n\r\nconst Copy = ({\r\n  children,\r\n  animationOnScroll = true,\r\n  delay = 0,\r\n  blockColor = '#000',\r\n  stagger = 0.15,\r\n  duration = 0.75,\r\n}) => {\r\n  const containerRef = useRef(null);\r\n  const splitRefs = useRef([]);\r\n  const lines = useRef([]);\r\n  const blocks = useRef([]);\r\n\r\n  useGSAP(\r\n    () => {\r\n      if (!containerRef.current) return null;\r\n\r\n      splitRefs.current = [];\r\n      lines.current = [];\r\n      blocks.current = [];\r\n\r\n      let elements = [];\r\n\r\n      if (containerRef.current.hasAttribute('data-copy-wrapper')) {\r\n        elements = Array.from(containerRef.current.children);\r\n      } else {\r\n        elements = [containerRef.current];\r\n      }\r\n\r\n      elements.forEach((element) => {\r\n        const split = new SplitText(element, {\r\n          type: 'lines',\r\n          linesClass: 'block-line++',\r\n          lineThreshold: 0.1,\r\n        });\r\n\r\n        splitRefs.current.push(split);\r\n\r\n        split.lines.forEach((line) => {\r\n          const wrapper = document.createElement('div');\r\n          wrapper.className = 'block-line-wrapper';\r\n          if (line.parentNode) {\r\n            line.parentNode.insertBefore(wrapper, line);\r\n          }\r\n          wrapper.appendChild(line);\r\n\r\n          const block = document.createElement('div');\r\n          block.className = 'block-revealer';\r\n          block.style.backgroundColor = blockColor;\r\n          wrapper.appendChild(block);\r\n\r\n          lines.current.push(line);\r\n          blocks.current.push(block);\r\n        });\r\n      });\r\n\r\n      gsap.set(lines.current, { opacity: 0 });\r\n      gsap.set(blocks.current, {\r\n        scaleX: 0,\r\n        transformOrigin: 'left center',\r\n      });\r\n\r\n      const createBlockRevealAnimation = (\r\n        block,\r\n        line,\r\n        index,\r\n      ) => {\r\n        const tl = gsap.timeline({ delay: delay + index * stagger });\r\n\r\n        tl.to(block, {\r\n          scaleX: 1,\r\n          duration: duration,\r\n          ease: 'power4.inOut',\r\n        });\r\n        tl.set(line, { opacity: 1 });\r\n        tl.set(block, { transformOrigin: 'right center' });\r\n        tl.to(block, {\r\n          scaleX: 0,\r\n          duration: duration,\r\n          ease: 'power4.inOut',\r\n        });\r\n\r\n        return tl;\r\n      };\r\n\r\n      if (animationOnScroll) {\r\n        blocks.current.forEach((block, index) => {\r\n          const tl = createBlockRevealAnimation(\r\n            block,\r\n            lines.current[index],\r\n            index,\r\n          );\r\n          tl.pause();\r\n\r\n          ScrollTrigger.create({\r\n            trigger: containerRef.current,\r\n            start: 'top 90%',\r\n            once: true,\r\n            onEnter: () => tl.play(),\r\n          });\r\n        });\r\n      } else {\r\n        blocks.current.forEach((block, index) => {\r\n          createBlockRevealAnimation(block, lines.current[index], index);\r\n        });\r\n      }\r\n\r\n      return () => {\r\n        splitRefs.current.forEach((split) => split?.revert());\r\n\r\n        const wrappers = containerRef.current?.querySelectorAll(\r\n          '.block-line-wrapper',\r\n        );\r\n        wrappers?.forEach((wrapper) => {\r\n          if (wrapper.parentNode && wrapper.firstChild) {\r\n            wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\r\n            wrapper.remove();\r\n          }\r\n        });\r\n      };\r\n    },\r\n    {\r\n      scope: containerRef,\r\n      dependencies: [animationOnScroll, delay, blockColor, stagger, duration],\r\n    },\r\n  );\r\n\r\n  return (\r\n    <div ref={containerRef} data-copy-wrapper=\"true\">\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Copy;\r\n"
    }
  ],
  "tailwind": {
    "config": {}
  },
  "cssVars": {},
  "meta": {
    "category": "split-text"
  }
}